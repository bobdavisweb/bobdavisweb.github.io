<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>TuringMachine4</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="TuringMachine4.html" class="Module">TuringMachine4</a> <a id="23" class="Keyword">where</a>

<a id="30" class="Keyword">open</a> <a id="35" class="Keyword">import</a> <a id="42" href="Basic.html" class="Module">Basic</a> <a id="48" class="Keyword">hiding</a> <a id="55" class="Symbol">(</a><a id="56" href="Data.Nat.Base.html#3471" class="Function Operator">_^_</a> <a id="60" class="Symbol">;</a> <a id="62" href="Data.Fin.Base.html#2329" class="Function">raise</a><a id="67" class="Symbol">)</a> <a id="69" class="Keyword">renaming</a> <a id="78" class="Symbol">(</a><a id="79" href="Basic.html#7559" class="Function">func-rep</a> <a id="88" class="Symbol">to</a> <a id="func-rep"></a><a id="91" href="TuringMachine4.html#91" class="Function">_^_</a><a id="94" class="Symbol">)</a>
<a id="96" class="Keyword">open</a> <a id="101" class="Keyword">import</a> <a id="108" href="Util.Arithmetic.html" class="Module">Util.Arithmetic</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Util.Bool.html" class="Module">Util.Bool</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Util.BoolProp.html" class="Module">Util.BoolProp</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Util.List.html" class="Module">Util.List</a>
<a id="194" class="Keyword">open</a> <a id="199" class="Keyword">import</a> <a id="206" href="Util.List.Properties.html" class="Module">Util.List.Properties</a>


<a id="229" class="Comment">{-
  Should really be using some kind of standard dict-like interface / associative array
  rather than this ad hoc thing..
-}</a>
<a id="356" class="Keyword">data</a> <a id="TM-δ"></a><a id="361" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="366" class="Symbol">:</a> <a id="368" class="PrimitiveType">Set</a> <a id="372" class="Keyword">where</a>
  <a id="TM-δ.δ"></a><a id="380" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="382" class="Symbol">:</a> <a id="384" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="386" class="Symbol">→</a> <a id="388" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="390" class="Symbol">→</a> <a id="392" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="394" class="Symbol">→</a> <a id="396" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="398" class="Symbol">→</a> <a id="400" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="405" class="Symbol">→</a> <a id="407" href="TuringMachine4.html#361" class="Datatype">TM-δ</a>

<a id="TM"></a><a id="413" href="TuringMachine4.html#413" class="Function">TM</a> <a id="416" class="Symbol">:</a> <a id="418" class="PrimitiveType">Set</a>
<a id="422" href="TuringMachine4.html#413" class="Function">TM</a> <a id="425" class="Symbol">=</a> <a id="427" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="432" href="TuringMachine4.html#361" class="Datatype">TM-δ</a>

<a id="438" class="Comment">{-
  should be something more like &quot;with default 0 , get l x&quot;
-}</a>
<a id="read"></a><a id="503" href="TuringMachine4.html#503" class="Function">read</a> <a id="508" class="Symbol">:</a> <a id="510" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="512" class="Symbol">→</a> <a id="514" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="519" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="521" class="Symbol">→</a> <a id="523" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="525" href="TuringMachine4.html#503" class="Function">read</a> <a id="530" href="TuringMachine4.html#530" class="Bound">x</a> <a id="532" href="TuringMachine4.html#532" class="Bound">l</a> <a id="534" class="Symbol">=</a> <a id="536" href="Util.List.html#656" class="Function">get-default</a> <a id="548" class="Number">0</a> <a id="550" href="TuringMachine4.html#532" class="Bound">l</a> <a id="552" href="TuringMachine4.html#530" class="Bound">x</a>

<a id="δ-match"></a><a id="555" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="563" class="Symbol">:</a> <a id="565" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="567" class="Symbol">→</a> <a id="569" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="571" class="Symbol">→</a> <a id="573" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="578" class="Symbol">→</a> <a id="580" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="585" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="593" href="TuringMachine4.html#593" class="Bound">state</a> <a id="599" href="TuringMachine4.html#599" class="Bound">symbol</a> <a id="606" class="Symbol">(</a><a id="607" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="609" href="TuringMachine4.html#609" class="Bound">x</a> <a id="611" href="TuringMachine4.html#611" class="Bound">y</a> <a id="613" class="Symbol">_</a> <a id="615" class="Symbol">_</a> <a id="617" class="Symbol">_)</a> <a id="620" class="Symbol">=</a> <a id="622" class="Symbol">(</a><a id="623" href="TuringMachine4.html#593" class="Bound">state</a> <a id="629" href="Basic.html#883" class="Primitive Operator">eq</a> <a id="632" href="TuringMachine4.html#609" class="Bound">x</a><a id="633" class="Symbol">)</a> <a id="635" href="Util.Bool.html#45" class="Function Operator">and</a> <a id="639" class="Symbol">(</a><a id="640" href="TuringMachine4.html#599" class="Bound">symbol</a> <a id="647" href="Basic.html#883" class="Primitive Operator">eq</a> <a id="650" href="TuringMachine4.html#611" class="Bound">y</a><a id="651" class="Symbol">)</a>


<a id="655" class="Keyword">record</a> <a id="TM-configuration"></a><a id="662" href="TuringMachine4.html#662" class="Record">TM-configuration</a> <a id="679" class="Symbol">:</a> <a id="681" class="PrimitiveType">Set</a> <a id="685" class="Keyword">where</a>
  <a id="693" class="Keyword">field</a>
    <a id="TM-configuration.state"></a><a id="703" href="TuringMachine4.html#703" class="Field">state</a> <a id="709" class="Symbol">:</a> <a id="711" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="TM-configuration.tape"></a><a id="717" href="TuringMachine4.html#717" class="Field">tape</a> <a id="722" class="Symbol">:</a> <a id="724" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="729" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="TM-configuration.pos"></a><a id="735" href="TuringMachine4.html#735" class="Field">pos</a> <a id="739" class="Symbol">:</a> <a id="741" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="TM-configuration.halted"></a><a id="747" href="TuringMachine4.html#747" class="Field">halted</a> <a id="754" class="Symbol">:</a> <a id="756" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>

<a id="apply-δ"></a><a id="762" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="770" class="Symbol">:</a> <a id="772" href="TuringMachine4.html#662" class="Record">TM-configuration</a> <a id="789" class="Symbol">→</a> <a id="791" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="797" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="802" class="Symbol">→</a> <a id="804" href="TuringMachine4.html#662" class="Record">TM-configuration</a>
<a id="821" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="829" href="TuringMachine4.html#829" class="Bound">config</a> <a id="836" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="844" class="Symbol">=</a>
  <a id="848" class="Keyword">record</a><a id="854" class="Symbol">{</a>
    <a id="860" href="TuringMachine4.html#703" class="Field">state</a>  <a id="867" class="Symbol">=</a> <a id="869" href="TuringMachine4.html#703" class="Field">state</a>
  <a id="877" class="Symbol">;</a> <a id="879" href="TuringMachine4.html#717" class="Field">tape</a>   <a id="886" class="Symbol">=</a> <a id="888" href="TuringMachine4.html#717" class="Field">tape</a>
  <a id="895" class="Symbol">;</a> <a id="897" href="TuringMachine4.html#735" class="Field">pos</a>    <a id="904" class="Symbol">=</a> <a id="906" href="TuringMachine4.html#735" class="Field">pos</a>
  <a id="912" class="Symbol">;</a> <a id="914" href="TuringMachine4.html#747" class="Field">halted</a> <a id="921" class="Symbol">=</a> <a id="923" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="930" class="Symbol">}</a>
  <a id="934" class="Keyword">where</a>
    <a id="944" class="Keyword">open</a> <a id="949" href="TuringMachine4.html#662" class="Module">TM-configuration</a> <a id="966" href="TuringMachine4.html#829" class="Bound">config</a>
<a id="973" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="981" href="TuringMachine4.html#981" class="Bound">config</a> <a id="988" class="Symbol">(</a><a id="989" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="994" class="Symbol">(</a><a id="995" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="997" class="Symbol">_</a> <a id="999" class="Symbol">_</a> <a id="1001" href="TuringMachine4.html#1001" class="Bound">new-state</a> <a id="1011" href="TuringMachine4.html#1011" class="Bound">symbol</a> <a id="1018" href="TuringMachine4.html#1018" class="Bound">lr</a><a id="1020" class="Symbol">))</a> <a id="1023" class="Symbol">=</a>
  <a id="1027" class="Keyword">record</a><a id="1033" class="Symbol">{</a>
    <a id="1039" href="TuringMachine4.html#703" class="Field">state</a>  <a id="1046" class="Symbol">=</a> <a id="1048" href="TuringMachine4.html#1001" class="Bound">new-state</a>
  <a id="1060" class="Symbol">;</a> <a id="1062" href="TuringMachine4.html#717" class="Field">tape</a>   <a id="1069" class="Symbol">=</a> <a id="1071" href="TuringMachine4.html#1171" class="Function">new-tape</a>
  <a id="1082" class="Symbol">;</a> <a id="1084" href="TuringMachine4.html#735" class="Field">pos</a>    <a id="1091" class="Symbol">=</a> <a id="1093" href="TuringMachine4.html#1206" class="Function">new-pos</a>
  <a id="1103" class="Symbol">;</a> <a id="1105" href="TuringMachine4.html#747" class="Field">halted</a> <a id="1112" class="Symbol">=</a> <a id="1114" href="TuringMachine4.html#747" class="Function">halted</a>
  <a id="1123" class="Symbol">}</a>
  <a id="1127" class="Keyword">where</a>
    <a id="1137" class="Keyword">open</a> <a id="1142" href="TuringMachine4.html#662" class="Module">TM-configuration</a> <a id="1159" href="TuringMachine4.html#981" class="Bound">config</a>

    <a id="1171" href="TuringMachine4.html#1171" class="Function">new-tape</a> <a id="1180" class="Symbol">=</a> <a id="1182" href="Util.List.html#746" class="Function">set</a> <a id="1186" href="TuringMachine4.html#717" class="Function">tape</a> <a id="1191" href="TuringMachine4.html#735" class="Function">pos</a> <a id="1195" href="TuringMachine4.html#1011" class="Bound">symbol</a>
    <a id="1206" href="TuringMachine4.html#1206" class="Function">new-pos</a> <a id="1214" class="Symbol">=</a> <a id="1216" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1219" href="TuringMachine4.html#1018" class="Bound">lr</a> <a id="1222" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1232" href="TuringMachine4.html#735" class="Function">pos</a><a id="1235" class="Symbol">)</a> <a id="1237" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Data.Nat.Base.html#2880" class="Function">pred</a> <a id="1248" href="TuringMachine4.html#735" class="Function">pos</a><a id="1251" class="Symbol">)</a>

<a id="step"></a><a id="1254" href="TuringMachine4.html#1254" class="Function">step</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="TuringMachine4.html#413" class="Function">TM</a> <a id="1264" class="Symbol">→</a> <a id="1266" href="TuringMachine4.html#662" class="Record">TM-configuration</a> <a id="1283" class="Symbol">→</a> <a id="1285" href="TuringMachine4.html#662" class="Record">TM-configuration</a>
<a id="1302" href="TuringMachine4.html#1254" class="Function">step</a> <a id="1307" href="TuringMachine4.html#1307" class="Bound">M</a> <a id="1309" href="TuringMachine4.html#1309" class="Bound">config</a> <a id="1316" class="Symbol">=</a> <a id="1318" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="1326" href="TuringMachine4.html#1309" class="Bound">config</a> <a id="1333" class="Symbol">(</a><a id="1334" href="Util.List.html#834" class="Function">find</a> <a id="1339" class="Symbol">(</a><a id="1340" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="1348" href="TuringMachine4.html#703" class="Field">state</a> <a id="1354" class="Symbol">(</a><a id="1355" href="TuringMachine4.html#503" class="Function">read</a> <a id="1360" href="TuringMachine4.html#735" class="Field">pos</a> <a id="1364" href="TuringMachine4.html#717" class="Field">tape</a><a id="1368" class="Symbol">))</a> <a id="1371" href="TuringMachine4.html#1307" class="Bound">M</a><a id="1372" class="Symbol">)</a>
  <a id="1376" class="Keyword">where</a>
    <a id="1386" class="Keyword">open</a> <a id="1391" href="TuringMachine4.html#662" class="Module">TM-configuration</a> <a id="1408" href="TuringMachine4.html#1309" class="Bound">config</a>

<a id="start-state"></a><a id="1416" href="TuringMachine4.html#1416" class="Function">start-state</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1435" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="TuringMachine4.html#662" class="Record">TM-configuration</a>
<a id="1456" href="TuringMachine4.html#1416" class="Function">start-state</a> <a id="1468" href="TuringMachine4.html#1468" class="Bound">tape</a> <a id="1473" class="Symbol">=</a>
  <a id="1477" class="Keyword">record</a><a id="1483" class="Symbol">{</a>
    <a id="1489" href="TuringMachine4.html#703" class="Field">state</a>  <a id="1496" class="Symbol">=</a> <a id="1498" class="Number">0</a>
  <a id="1502" class="Symbol">;</a> <a id="1504" href="TuringMachine4.html#717" class="Field">tape</a>   <a id="1511" class="Symbol">=</a> <a id="1513" href="TuringMachine4.html#1468" class="Bound">tape</a>
  <a id="1520" class="Symbol">;</a> <a id="1522" href="TuringMachine4.html#735" class="Field">pos</a>    <a id="1529" class="Symbol">=</a> <a id="1531" class="Number">0</a>
  <a id="1535" class="Symbol">;</a> <a id="1537" href="TuringMachine4.html#747" class="Field">halted</a> <a id="1544" class="Symbol">=</a> <a id="1546" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="1554" class="Symbol">}</a>

<a id="run"></a><a id="1557" href="TuringMachine4.html#1557" class="Function">run</a> <a id="1561" class="Symbol">:</a> <a id="1563" href="TuringMachine4.html#413" class="Function">TM</a> <a id="1566" class="Symbol">→</a> <a id="1568" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1570" class="Symbol">→</a> <a id="1572" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1577" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1579" class="Symbol">→</a> <a id="1581" href="TuringMachine4.html#662" class="Record">TM-configuration</a>
<a id="1598" href="TuringMachine4.html#1557" class="Function">run</a> <a id="1602" href="TuringMachine4.html#1602" class="Bound">M</a> <a id="1604" href="TuringMachine4.html#1604" class="Bound">n</a> <a id="1606" href="TuringMachine4.html#1606" class="Bound">tape</a> <a id="1611" class="Symbol">=</a> <a id="1613" class="Symbol">((</a><a id="1615" href="TuringMachine4.html#1254" class="Function">step</a> <a id="1620" href="TuringMachine4.html#1602" class="Bound">M</a><a id="1621" class="Symbol">)</a> <a id="1623" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="1625" href="TuringMachine4.html#1604" class="Bound">n</a><a id="1626" class="Symbol">)</a> <a id="1628" class="Symbol">(</a><a id="1629" href="TuringMachine4.html#1416" class="Function">start-state</a> <a id="1641" href="TuringMachine4.html#1606" class="Bound">tape</a><a id="1645" class="Symbol">)</a>

<a id="raise-δ"></a><a id="1648" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="1656" class="Symbol">:</a> <a id="1658" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1660" class="Symbol">→</a> <a id="1662" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="1667" class="Symbol">→</a> <a id="1669" href="TuringMachine4.html#361" class="Datatype">TM-δ</a>
<a id="1674" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="1682" href="TuringMachine4.html#1682" class="Bound">n</a> <a id="1684" class="Symbol">(</a><a id="1685" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="1687" href="TuringMachine4.html#1687" class="Bound">in-state</a> <a id="1696" href="TuringMachine4.html#1696" class="Bound">in-symbol</a> <a id="1706" href="TuringMachine4.html#1706" class="Bound">out-state</a> <a id="1716" href="TuringMachine4.html#1716" class="Bound">out-symbol</a> <a id="1727" href="TuringMachine4.html#1727" class="Bound">lr</a><a id="1729" class="Symbol">)</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="1735" class="Symbol">(</a><a id="1736" href="TuringMachine4.html#1682" class="Bound">n</a> <a id="1738" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1740" href="TuringMachine4.html#1687" class="Bound">in-state</a><a id="1748" class="Symbol">)</a> <a id="1750" href="TuringMachine4.html#1696" class="Bound">in-symbol</a> <a id="1760" class="Symbol">(</a><a id="1761" href="TuringMachine4.html#1682" class="Bound">n</a> <a id="1763" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1765" href="TuringMachine4.html#1706" class="Bound">out-state</a><a id="1774" class="Symbol">)</a> <a id="1776" href="TuringMachine4.html#1716" class="Bound">out-symbol</a> <a id="1787" href="TuringMachine4.html#1727" class="Bound">lr</a>

<a id="raise"></a><a id="1791" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="1797" class="Symbol">:</a> <a id="1799" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1801" class="Symbol">→</a> <a id="1803" href="TuringMachine4.html#413" class="Function">TM</a> <a id="1806" class="Symbol">→</a> <a id="1808" href="TuringMachine4.html#413" class="Function">TM</a>
<a id="1811" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="1817" href="TuringMachine4.html#1817" class="Bound">n</a> <a id="1819" href="TuringMachine4.html#1819" class="Bound">M</a> <a id="1821" class="Symbol">=</a> <a id="1823" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1827" class="Symbol">(</a><a id="1828" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="1836" href="TuringMachine4.html#1817" class="Bound">n</a><a id="1837" class="Symbol">)</a> <a id="1839" href="TuringMachine4.html#1819" class="Bound">M</a>


<a id="max-state"></a><a id="1843" href="TuringMachine4.html#1843" class="Function">max-state</a> <a id="1853" class="Symbol">:</a> <a id="1855" href="TuringMachine4.html#413" class="Function">TM</a> <a id="1858" class="Symbol">→</a> <a id="1860" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1862" href="TuringMachine4.html#1843" class="Function">max-state</a> <a id="1872" href="TuringMachine4.html#1872" class="Bound">M</a> <a id="1874" class="Symbol">=</a> <a id="1876" href="Util.Arithmetic.html#775" class="Function">list-max</a> <a id="1885" class="Symbol">(</a><a id="1886" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1890" href="TuringMachine4.html#1907" class="Function">f</a> <a id="1892" href="TuringMachine4.html#1872" class="Bound">M</a><a id="1893" class="Symbol">)</a>
  <a id="1897" class="Keyword">where</a>
    <a id="1907" href="TuringMachine4.html#1907" class="Function">f</a> <a id="1909" class="Symbol">:</a> <a id="1911" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="1916" class="Symbol">→</a> <a id="1918" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1924" href="TuringMachine4.html#1907" class="Function">f</a> <a id="1926" class="Symbol">(</a><a id="1927" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="1929" href="TuringMachine4.html#1929" class="Bound">in-state</a> <a id="1938" class="Symbol">_</a> <a id="1940" href="TuringMachine4.html#1940" class="Bound">out-state</a> <a id="1950" class="Symbol">_</a> <a id="1952" class="Symbol">_)</a> <a id="1955" class="Symbol">=</a> <a id="1957" href="Basic.html#897" class="Function">max</a> <a id="1961" href="TuringMachine4.html#1929" class="Bound">in-state</a> <a id="1970" href="TuringMachine4.html#1940" class="Bound">out-state</a>

<a id="max-symbol"></a><a id="1981" href="TuringMachine4.html#1981" class="Function">max-symbol</a> <a id="1992" class="Symbol">:</a> <a id="1994" href="TuringMachine4.html#413" class="Function">TM</a> <a id="1997" class="Symbol">→</a> <a id="1999" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="2001" href="TuringMachine4.html#1981" class="Function">max-symbol</a> <a id="2012" href="TuringMachine4.html#2012" class="Bound">M</a> <a id="2014" class="Symbol">=</a> <a id="2016" href="Util.Arithmetic.html#775" class="Function">list-max</a> <a id="2025" class="Symbol">(</a><a id="2026" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2030" href="TuringMachine4.html#2047" class="Function">f</a> <a id="2032" href="TuringMachine4.html#2012" class="Bound">M</a><a id="2033" class="Symbol">)</a>
  <a id="2037" class="Keyword">where</a>
    <a id="2047" href="TuringMachine4.html#2047" class="Function">f</a> <a id="2049" class="Symbol">:</a> <a id="2051" href="TuringMachine4.html#361" class="Datatype">TM-δ</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="2064" href="TuringMachine4.html#2047" class="Function">f</a> <a id="2066" class="Symbol">(</a><a id="2067" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="2069" class="Symbol">_</a> <a id="2071" href="TuringMachine4.html#2071" class="Bound">in-symbol</a> <a id="2081" class="Symbol">_</a> <a id="2083" href="TuringMachine4.html#2083" class="Bound">out-symbol</a> <a id="2094" class="Symbol">_)</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Basic.html#897" class="Function">max</a> <a id="2103" href="TuringMachine4.html#2071" class="Bound">in-symbol</a> <a id="2113" href="TuringMachine4.html#2083" class="Bound">out-symbol</a>


<a id="make-switch"></a><a id="2126" href="TuringMachine4.html#2126" class="Function">make-switch</a> <a id="2138" class="Symbol">:</a> <a id="2140" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2142" class="Symbol">→</a> <a id="2144" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2146" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2148" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2150" class="Symbol">→</a> <a id="2152" href="TuringMachine4.html#361" class="Datatype">TM-δ</a>
<a id="2157" href="TuringMachine4.html#2126" class="Function">make-switch</a> <a id="2169" href="TuringMachine4.html#2169" class="Bound">n</a> <a id="2171" class="Symbol">(</a><a id="2172" href="TuringMachine4.html#2172" class="Bound">state</a> <a id="2178" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2180" href="TuringMachine4.html#2180" class="Bound">symbol</a><a id="2186" class="Symbol">)</a> <a id="2188" class="Symbol">=</a> <a id="2190" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="2192" href="TuringMachine4.html#2172" class="Bound">state</a> <a id="2198" href="TuringMachine4.html#2180" class="Bound">symbol</a> <a id="2205" href="TuringMachine4.html#2169" class="Bound">n</a> <a id="2207" href="TuringMachine4.html#2180" class="Bound">symbol</a> <a id="2214" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="δ-filter"></a><a id="2220" href="TuringMachine4.html#2220" class="Function">δ-filter</a> <a id="2229" class="Symbol">:</a> <a id="2231" href="TuringMachine4.html#413" class="Function">TM</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2238" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2240" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2242" class="Symbol">→</a> <a id="2244" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="2249" href="TuringMachine4.html#2220" class="Function">δ-filter</a> <a id="2258" href="TuringMachine4.html#2258" class="Bound">M</a> <a id="2260" class="Symbol">(</a><a id="2261" href="TuringMachine4.html#2261" class="Bound">state</a> <a id="2267" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2269" href="TuringMachine4.html#2269" class="Bound">symbol</a><a id="2275" class="Symbol">)</a> <a id="2277" class="Symbol">=</a> <a id="2279" href="Data.Bool.Base.html#932" class="Function">not</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Util.List.html#1371" class="Function">match</a> <a id="2290" class="Symbol">(</a><a id="2291" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="2299" href="TuringMachine4.html#2261" class="Bound">state</a> <a id="2305" href="TuringMachine4.html#2269" class="Bound">symbol</a><a id="2311" class="Symbol">)</a> <a id="2313" href="TuringMachine4.html#2258" class="Bound">M</a><a id="2314" class="Symbol">)</a>


<a id="fix"></a><a id="2318" href="TuringMachine4.html#2318" class="Function">fix</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="TuringMachine4.html#413" class="Function">TM</a> <a id="2327" class="Symbol">→</a> <a id="2329" href="TuringMachine4.html#413" class="Function">TM</a>
<a id="2332" href="TuringMachine4.html#2318" class="Function">fix</a> <a id="2336" href="TuringMachine4.html#2336" class="Bound">M</a> <a id="2338" class="Symbol">=</a> <a id="2340" href="TuringMachine4.html#2336" class="Bound">M</a> <a id="2342" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2345" class="Symbol">(</a><a id="2346" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2350" class="Symbol">(</a><a id="2351" href="TuringMachine4.html#2126" class="Function">make-switch</a> <a id="2363" href="TuringMachine4.html#2414" class="Function">#states</a><a id="2370" class="Symbol">)</a> <a id="2372" class="Symbol">(</a><a id="2373" href="Util.List.html#2611" class="Function">filter</a> <a id="2380" class="Symbol">(</a><a id="2381" href="TuringMachine4.html#2220" class="Function">δ-filter</a> <a id="2390" href="TuringMachine4.html#2336" class="Bound">M</a><a id="2391" class="Symbol">)</a> <a id="2393" href="TuringMachine4.html#2542" class="Function">inputs</a><a id="2399" class="Symbol">))</a>
  <a id="2404" class="Keyword">where</a>
    <a id="2414" href="TuringMachine4.html#2414" class="Function">#states</a> <a id="2422" class="Symbol">=</a> <a id="2424" class="Number">1</a> <a id="2426" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2428" class="Symbol">(</a><a id="2429" href="TuringMachine4.html#1843" class="Function">max-state</a> <a id="2439" href="TuringMachine4.html#2336" class="Bound">M</a><a id="2440" class="Symbol">)</a>
    <a id="2446" href="TuringMachine4.html#2446" class="Function">#symbols</a> <a id="2455" class="Symbol">=</a> <a id="2457" class="Number">1</a> <a id="2459" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2461" class="Symbol">(</a><a id="2462" href="TuringMachine4.html#1981" class="Function">max-symbol</a> <a id="2473" href="TuringMachine4.html#2336" class="Bound">M</a><a id="2474" class="Symbol">)</a>
    
    <a id="2485" href="TuringMachine4.html#2485" class="Function">states</a> <a id="2492" class="Symbol">=</a> <a id="2494" href="Util.Arithmetic.html#207" class="Function">range</a> <a id="2500" href="TuringMachine4.html#2414" class="Function">#states</a>
    <a id="2512" href="TuringMachine4.html#2512" class="Function">symbols</a> <a id="2520" class="Symbol">=</a> <a id="2522" href="Util.Arithmetic.html#207" class="Function">range</a> <a id="2528" href="TuringMachine4.html#2446" class="Function">#symbols</a>

    <a id="2542" href="TuringMachine4.html#2542" class="Function">inputs</a> <a id="2549" class="Symbol">:</a> <a id="2551" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2556" class="Symbol">(</a><a id="2557" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2559" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2561" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2562" class="Symbol">)</a>
    <a id="2568" href="TuringMachine4.html#2542" class="Function">inputs</a> <a id="2575" class="Symbol">=</a> <a id="2577" href="Util.List.html#2444" class="Function">list-product</a> <a id="2590" href="TuringMachine4.html#2485" class="Function">states</a> <a id="2597" href="TuringMachine4.html#2512" class="Function">symbols</a>


<a id="2607" class="Comment">{-
  Sequences the actions of two Turing machines

  Each state s in M₁ will correspond to the state s in seq M₁ M₂
  Each state s in M₂ will correspond to the state (1 + (max-state M₁) + s)  in seq M₁ M₂

  In particular state 0 in M₂, the start state of M₂, will correspond to the state (1 + (max-state M₁)) in seq M₁ M₂

  For any (state , symbol) pair for which M₁ would halt, a transition (state , symbol) -&gt; ((1 + (max-state M₁)) , symbol , R) will be added
  
  NOTE:
   * for any input tape for which M₁ loops, seq M₁ M₂ will loop and in particular the action corresponding to M₂ will never run, but
     this is expected behavior.
   * in particular, if there are no (state , symbol) input pairs for which M₁ halts, then the action corresponding to M₂ will never run
     on any input, and all the states corresponding to states of M₂ will be inaccessible. This is still the intended semantics.
  
-}</a>
<a id="seq"></a><a id="3517" href="TuringMachine4.html#3517" class="Function">seq</a> <a id="3521" class="Symbol">:</a> <a id="3523" href="TuringMachine4.html#413" class="Function">TM</a> <a id="3526" class="Symbol">→</a> <a id="3528" href="TuringMachine4.html#413" class="Function">TM</a> <a id="3531" class="Symbol">→</a> <a id="3533" href="TuringMachine4.html#413" class="Function">TM</a>
<a id="3536" href="TuringMachine4.html#3517" class="Function">seq</a> <a id="3540" href="TuringMachine4.html#3540" class="Bound">M₁</a> <a id="3543" href="TuringMachine4.html#3543" class="Bound">M₂</a> <a id="3546" class="Symbol">=</a> <a id="3548" class="Symbol">(</a><a id="3549" href="TuringMachine4.html#2318" class="Function">fix</a> <a id="3553" href="TuringMachine4.html#3540" class="Bound">M₁</a><a id="3555" class="Symbol">)</a> <a id="3557" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3560" class="Symbol">(</a><a id="3561" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="3567" class="Symbol">(</a><a id="3568" class="Number">1</a> <a id="3570" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3572" class="Symbol">(</a><a id="3573" href="TuringMachine4.html#1843" class="Function">max-state</a> <a id="3583" href="TuringMachine4.html#3540" class="Bound">M₁</a><a id="3585" class="Symbol">))</a> <a id="3588" href="TuringMachine4.html#3543" class="Bound">M₂</a><a id="3590" class="Symbol">)</a>

<a id="example1"></a><a id="3593" href="TuringMachine4.html#3593" class="Function">example1</a> <a id="3602" class="Symbol">:</a> <a id="3604" href="TuringMachine4.html#413" class="Function">TM</a>
<a id="3607" href="TuringMachine4.html#3593" class="Function">example1</a> <a id="3616" class="Symbol">=</a>
    <a id="3622" class="Symbol">(</a><a id="3623" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="3625" class="Number">0</a> <a id="3627" class="Number">0</a> <a id="3629" class="Number">0</a> <a id="3631" class="Number">0</a> <a id="3633" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="3637" class="Symbol">)</a>
  <a id="3641" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3643" class="Symbol">(</a><a id="3644" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="3646" class="Number">1</a> <a id="3648" class="Number">0</a> <a id="3650" class="Number">1</a> <a id="3652" class="Number">0</a> <a id="3654" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="3658" class="Symbol">)</a>
  <a id="3662" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3664" class="Symbol">(</a><a id="3665" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="3667" class="Number">1</a> <a id="3669" class="Number">0</a> <a id="3671" class="Number">0</a> <a id="3673" class="Number">1</a> <a id="3675" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="3679" class="Symbol">)</a>
  <a id="3683" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3685" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="raise-config"></a><a id="3689" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="3702" class="Symbol">:</a> <a id="3704" class="Symbol">(</a><a id="3705" href="TuringMachine4.html#3705" class="Bound">n</a> <a id="3707" class="Symbol">:</a> <a id="3709" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3710" class="Symbol">)</a> <a id="3712" class="Symbol">→</a> <a id="3714" href="TuringMachine4.html#662" class="Record">TM-configuration</a> <a id="3731" class="Symbol">→</a> <a id="3733" href="TuringMachine4.html#662" class="Record">TM-configuration</a>
<a id="3750" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="3763" href="TuringMachine4.html#3763" class="Bound">n</a> <a id="3765" href="TuringMachine4.html#3765" class="Bound">config</a> <a id="3772" class="Symbol">=</a>
  <a id="3776" class="Keyword">record</a><a id="3782" class="Symbol">{</a>
    <a id="3788" href="TuringMachine4.html#703" class="Field">state</a> <a id="3794" class="Symbol">=</a> <a id="3796" href="TuringMachine4.html#3763" class="Bound">n</a> <a id="3798" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3800" href="TuringMachine4.html#703" class="Field">state</a>
  <a id="3808" class="Symbol">;</a> <a id="3810" href="TuringMachine4.html#735" class="Field">pos</a> <a id="3814" class="Symbol">=</a> <a id="3816" href="TuringMachine4.html#735" class="Field">pos</a>
  <a id="3822" class="Symbol">;</a> <a id="3824" href="TuringMachine4.html#717" class="Field">tape</a> <a id="3829" class="Symbol">=</a> <a id="3831" href="TuringMachine4.html#717" class="Field">tape</a>
  <a id="3838" class="Symbol">;</a> <a id="3840" href="TuringMachine4.html#747" class="Field">halted</a> <a id="3847" class="Symbol">=</a> <a id="3849" href="TuringMachine4.html#747" class="Field">halted</a>
  <a id="3858" class="Symbol">}</a>
  <a id="3862" class="Keyword">where</a>
    <a id="3872" class="Keyword">open</a> <a id="3877" href="TuringMachine4.html#662" class="Module">TM-configuration</a> <a id="3894" href="TuringMachine4.html#3765" class="Bound">config</a>



<a id="raise-δ-lemma"></a><a id="3904" href="TuringMachine4.html#3904" class="Function">raise-δ-lemma</a> <a id="3918" class="Symbol">:</a> <a id="3920" class="Symbol">(</a><a id="3921" href="TuringMachine4.html#3921" class="Bound">n</a> <a id="3923" href="TuringMachine4.html#3923" class="Bound">state</a> <a id="3929" href="TuringMachine4.html#3929" class="Bound">symbol</a> <a id="3936" class="Symbol">:</a> <a id="3938" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3939" class="Symbol">)</a> <a id="3941" class="Symbol">(</a><a id="3942" href="TuringMachine4.html#3942" class="Bound">transition</a> <a id="3953" class="Symbol">:</a> <a id="3955" href="TuringMachine4.html#361" class="Datatype">TM-δ</a><a id="3959" class="Symbol">)</a> <a id="3961" class="Symbol">→</a> <a id="3963" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="3971" href="TuringMachine4.html#3923" class="Bound">state</a> <a id="3977" href="TuringMachine4.html#3929" class="Bound">symbol</a> <a id="3984" href="TuringMachine4.html#3942" class="Bound">transition</a> <a id="3995" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3997" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="4005" class="Symbol">(</a><a id="4006" href="TuringMachine4.html#3921" class="Bound">n</a> <a id="4008" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4010" href="TuringMachine4.html#3923" class="Bound">state</a><a id="4015" class="Symbol">)</a> <a id="4017" href="TuringMachine4.html#3929" class="Bound">symbol</a> <a id="4024" class="Symbol">(</a><a id="4025" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="4033" href="TuringMachine4.html#3921" class="Bound">n</a> <a id="4035" href="TuringMachine4.html#3942" class="Bound">transition</a><a id="4045" class="Symbol">)</a>
<a id="4047" href="TuringMachine4.html#3904" class="Function">raise-δ-lemma</a> <a id="4061" class="Number">0</a> <a id="4063" class="Symbol">_</a> <a id="4065" class="Symbol">_</a> <a id="4067" class="Symbol">(</a><a id="4068" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="4070" class="Symbol">_</a> <a id="4072" class="Symbol">_</a> <a id="4074" class="Symbol">_</a> <a id="4076" class="Symbol">_</a> <a id="4078" class="Symbol">_)</a> <a id="4081" class="Symbol">=</a> <a id="4083" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4088" href="TuringMachine4.html#3904" class="Function">raise-δ-lemma</a> <a id="4102" class="Symbol">(</a><a id="4103" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4107" href="TuringMachine4.html#4107" class="Bound">n</a><a id="4108" class="Symbol">)</a> <a id="4110" href="TuringMachine4.html#4110" class="Bound">state</a> <a id="4116" href="TuringMachine4.html#4116" class="Bound">symbol</a> <a id="4123" href="TuringMachine4.html#4123" class="Bound">transition</a><a id="4133" class="Symbol">@(</a><a id="4135" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="4137" href="TuringMachine4.html#4137" class="Bound">a</a> <a id="4139" href="TuringMachine4.html#4139" class="Bound">b</a> <a id="4141" href="TuringMachine4.html#4141" class="Bound">c</a> <a id="4143" href="TuringMachine4.html#4143" class="Bound">d</a> <a id="4145" href="TuringMachine4.html#4145" class="Bound">e</a><a id="4146" class="Symbol">)</a> <a id="4148" class="Symbol">=</a> <a id="4150" href="TuringMachine4.html#3904" class="Function">raise-δ-lemma</a> <a id="4164" href="TuringMachine4.html#4107" class="Bound">n</a> <a id="4166" href="TuringMachine4.html#4110" class="Bound">state</a> <a id="4172" href="TuringMachine4.html#4116" class="Bound">symbol</a> <a id="4179" href="TuringMachine4.html#4123" class="Bound">transition</a>


<a id="raise-find-lemma"></a><a id="4192" href="TuringMachine4.html#4192" class="Function">raise-find-lemma</a> <a id="4209" class="Symbol">:</a> <a id="4211" class="Symbol">(</a><a id="4212" href="TuringMachine4.html#4212" class="Bound">M</a> <a id="4214" class="Symbol">:</a> <a id="4216" href="TuringMachine4.html#413" class="Function">TM</a><a id="4218" class="Symbol">)</a> <a id="4220" class="Symbol">(</a><a id="4221" href="TuringMachine4.html#4221" class="Bound">n</a> <a id="4223" href="TuringMachine4.html#4223" class="Bound">state</a> <a id="4229" href="TuringMachine4.html#4229" class="Bound">symbol</a> <a id="4236" class="Symbol">:</a> <a id="4238" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4239" class="Symbol">)</a> <a id="4241" class="Symbol">→</a> <a id="4243" href="Data.Maybe.Base.html#2039" class="Function">Maybe-map</a> <a id="4253" class="Symbol">(</a><a id="4254" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="4262" href="TuringMachine4.html#4221" class="Bound">n</a><a id="4263" class="Symbol">)</a> <a id="4265" class="Symbol">(</a><a id="4266" href="Util.List.html#834" class="Function">find</a> <a id="4271" class="Symbol">(</a><a id="4272" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="4280" href="TuringMachine4.html#4223" class="Bound">state</a> <a id="4286" href="TuringMachine4.html#4229" class="Bound">symbol</a><a id="4292" class="Symbol">)</a> <a id="4294" href="TuringMachine4.html#4212" class="Bound">M</a><a id="4295" class="Symbol">)</a> <a id="4297" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4299" href="Util.List.html#834" class="Function">find</a> <a id="4304" class="Symbol">(</a><a id="4305" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="4313" class="Symbol">(</a><a id="4314" href="TuringMachine4.html#4221" class="Bound">n</a> <a id="4316" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4318" href="TuringMachine4.html#4223" class="Bound">state</a><a id="4323" class="Symbol">)</a> <a id="4325" href="TuringMachine4.html#4229" class="Bound">symbol</a><a id="4331" class="Symbol">)</a> <a id="4333" class="Symbol">(</a><a id="4334" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="4340" href="TuringMachine4.html#4221" class="Bound">n</a> <a id="4342" href="TuringMachine4.html#4212" class="Bound">M</a><a id="4343" class="Symbol">)</a>
<a id="4345" href="TuringMachine4.html#4192" class="Function">raise-find-lemma</a> <a id="4362" href="TuringMachine4.html#4362" class="Bound">M</a> <a id="4364" href="TuringMachine4.html#4364" class="Bound">n</a> <a id="4366" href="TuringMachine4.html#4366" class="Bound">state</a> <a id="4372" href="TuringMachine4.html#4372" class="Bound">symbol</a> <a id="4379" class="Symbol">=</a> <a id="4381" href="Util.List.Properties.html#12609" class="Function">find-preserve</a> <a id="4395" class="Symbol">(</a><a id="4396" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="4404" href="TuringMachine4.html#4366" class="Bound">state</a> <a id="4410" href="TuringMachine4.html#4372" class="Bound">symbol</a><a id="4416" class="Symbol">)</a> <a id="4418" class="Symbol">(</a><a id="4419" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="4427" class="Symbol">(</a><a id="4428" href="TuringMachine4.html#4364" class="Bound">n</a> <a id="4430" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4432" href="TuringMachine4.html#4366" class="Bound">state</a><a id="4437" class="Symbol">)</a> <a id="4439" href="TuringMachine4.html#4372" class="Bound">symbol</a><a id="4445" class="Symbol">)</a> <a id="4447" class="Symbol">(</a><a id="4448" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="4456" href="TuringMachine4.html#4364" class="Bound">n</a><a id="4457" class="Symbol">)</a> <a id="4459" class="Symbol">(</a><a id="4460" href="TuringMachine4.html#3904" class="Function">raise-δ-lemma</a> <a id="4474" href="TuringMachine4.html#4364" class="Bound">n</a> <a id="4476" href="TuringMachine4.html#4366" class="Bound">state</a> <a id="4482" href="TuringMachine4.html#4372" class="Bound">symbol</a><a id="4488" class="Symbol">)</a> <a id="4490" href="TuringMachine4.html#4362" class="Bound">M</a>



<a id="raise-apply-lemma"></a><a id="4495" href="TuringMachine4.html#4495" class="Function">raise-apply-lemma</a> <a id="4513" class="Symbol">:</a> <a id="4515" class="Symbol">(</a><a id="4516" href="TuringMachine4.html#4516" class="Bound">config</a> <a id="4523" class="Symbol">:</a> <a id="4525" href="TuringMachine4.html#662" class="Record">TM-configuration</a><a id="4541" class="Symbol">)</a> <a id="4543" class="Symbol">(</a><a id="4544" href="TuringMachine4.html#4544" class="Bound">action</a> <a id="4551" class="Symbol">:</a> <a id="4553" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4559" href="TuringMachine4.html#361" class="Datatype">TM-δ</a><a id="4563" class="Symbol">)</a> <a id="4565" class="Symbol">(</a><a id="4566" href="TuringMachine4.html#4566" class="Bound">n</a> <a id="4568" class="Symbol">:</a> <a id="4570" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4571" class="Symbol">)</a> <a id="4573" class="Symbol">→</a> <a id="4575" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="4588" href="TuringMachine4.html#4566" class="Bound">n</a> <a id="4590" class="Symbol">(</a><a id="4591" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="4599" href="TuringMachine4.html#4516" class="Bound">config</a> <a id="4606" href="TuringMachine4.html#4544" class="Bound">action</a><a id="4612" class="Symbol">)</a> <a id="4614" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4616" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="4624" class="Symbol">(</a><a id="4625" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="4638" href="TuringMachine4.html#4566" class="Bound">n</a> <a id="4640" href="TuringMachine4.html#4516" class="Bound">config</a><a id="4646" class="Symbol">)</a> <a id="4648" class="Symbol">(</a><a id="4649" href="Data.Maybe.Base.html#2039" class="Function">Maybe-map</a> <a id="4659" class="Symbol">(</a><a id="4660" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="4668" href="TuringMachine4.html#4566" class="Bound">n</a><a id="4669" class="Symbol">)</a> <a id="4671" href="TuringMachine4.html#4544" class="Bound">action</a><a id="4677" class="Symbol">)</a>
<a id="4679" href="TuringMachine4.html#4495" class="Function">raise-apply-lemma</a> <a id="4697" class="Symbol">_</a> <a id="4699" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="4707" class="Symbol">_</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4716" href="TuringMachine4.html#4495" class="Function">raise-apply-lemma</a> <a id="4734" class="Symbol">_</a> <a id="4736" class="Symbol">(</a><a id="4737" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4742" class="Symbol">(</a><a id="4743" href="TuringMachine4.html#380" class="InductiveConstructor">δ</a> <a id="4745" class="Symbol">_</a> <a id="4747" class="Symbol">_</a> <a id="4749" class="Symbol">_</a> <a id="4751" class="Symbol">_</a> <a id="4753" class="Symbol">_))</a> <a id="4757" href="TuringMachine4.html#4757" class="Bound">n</a> <a id="4759" class="Symbol">=</a> <a id="4761" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="raise-tape-lemma"></a><a id="4767" href="TuringMachine4.html#4767" class="Function">raise-tape-lemma</a> <a id="4784" class="Symbol">:</a> <a id="4786" class="Symbol">(</a><a id="4787" href="TuringMachine4.html#4787" class="Bound">config</a> <a id="4794" class="Symbol">:</a> <a id="4796" href="TuringMachine4.html#662" class="Record">TM-configuration</a><a id="4812" class="Symbol">)</a> <a id="4814" class="Symbol">(</a><a id="4815" href="TuringMachine4.html#4815" class="Bound">n</a> <a id="4817" class="Symbol">:</a> <a id="4819" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4820" class="Symbol">)</a> <a id="4822" class="Symbol">→</a> <a id="4824" href="TuringMachine4.html#717" class="Field">TM-configuration.tape</a> <a id="4846" class="Symbol">(</a><a id="4847" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="4860" href="TuringMachine4.html#4815" class="Bound">n</a> <a id="4862" href="TuringMachine4.html#4787" class="Bound">config</a><a id="4868" class="Symbol">)</a> <a id="4870" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4872" href="TuringMachine4.html#717" class="Field">TM-configuration.tape</a> <a id="4894" href="TuringMachine4.html#4787" class="Bound">config</a>
<a id="4901" href="TuringMachine4.html#4767" class="Function">raise-tape-lemma</a> <a id="4918" href="TuringMachine4.html#4918" class="Bound">config</a> <a id="4925" href="TuringMachine4.html#4925" class="Bound">n</a> <a id="4927" class="Symbol">=</a> <a id="4929" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="raise-step-lemma"></a><a id="4936" href="TuringMachine4.html#4936" class="Function">raise-step-lemma</a> <a id="4953" class="Symbol">:</a> <a id="4955" class="Symbol">(</a><a id="4956" href="TuringMachine4.html#4956" class="Bound">M</a> <a id="4958" class="Symbol">:</a> <a id="4960" href="TuringMachine4.html#413" class="Function">TM</a><a id="4962" class="Symbol">)</a> <a id="4964" class="Symbol">(</a><a id="4965" href="TuringMachine4.html#4965" class="Bound">n</a> <a id="4967" class="Symbol">:</a> <a id="4969" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4970" class="Symbol">)</a> <a id="4972" class="Symbol">(</a><a id="4973" href="TuringMachine4.html#4973" class="Bound">config</a> <a id="4980" class="Symbol">:</a> <a id="4982" href="TuringMachine4.html#662" class="Record">TM-configuration</a><a id="4998" class="Symbol">)</a> <a id="5000" class="Symbol">→</a> <a id="5002" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5015" href="TuringMachine4.html#4965" class="Bound">n</a> <a id="5017" class="Symbol">(</a><a id="5018" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5023" href="TuringMachine4.html#4956" class="Bound">M</a> <a id="5025" href="TuringMachine4.html#4973" class="Bound">config</a><a id="5031" class="Symbol">)</a> <a id="5033" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5035" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5040" class="Symbol">(</a><a id="5041" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="5047" href="TuringMachine4.html#4965" class="Bound">n</a> <a id="5049" href="TuringMachine4.html#4956" class="Bound">M</a><a id="5050" class="Symbol">)</a> <a id="5052" class="Symbol">(</a><a id="5053" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5066" href="TuringMachine4.html#4965" class="Bound">n</a> <a id="5068" href="TuringMachine4.html#4973" class="Bound">config</a><a id="5074" class="Symbol">)</a>
<a id="5076" href="TuringMachine4.html#4936" class="Function">raise-step-lemma</a> <a id="5093" href="TuringMachine4.html#5093" class="Bound">M</a> <a id="5095" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5097" href="TuringMachine4.html#5097" class="Bound">config</a> <a id="5104" class="Symbol">=</a>
  <a id="5108" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5121" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5123" class="Symbol">(</a><a id="5124" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5129" href="TuringMachine4.html#5093" class="Bound">M</a> <a id="5131" href="TuringMachine4.html#5097" class="Bound">config</a><a id="5137" class="Symbol">)</a>

    <a id="5144" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="5147" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5152" class="Symbol">(</a><a id="5153" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5166" href="TuringMachine4.html#5095" class="Bound">n</a><a id="5167" class="Symbol">)</a> <a id="5169" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5174" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    
  <a id="5183" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5196" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5198" class="Symbol">(</a><a id="5199" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="5207" href="TuringMachine4.html#5097" class="Bound">config</a> <a id="5214" class="Symbol">(</a><a id="5215" href="Util.List.html#834" class="Function">find</a> <a id="5220" class="Symbol">(</a><a id="5221" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="5229" href="TuringMachine4.html#703" class="Field">state</a> <a id="5235" class="Symbol">(</a><a id="5236" href="TuringMachine4.html#503" class="Function">read</a> <a id="5241" href="TuringMachine4.html#735" class="Field">pos</a> <a id="5245" href="TuringMachine4.html#717" class="Field">tape</a><a id="5249" class="Symbol">))</a> <a id="5252" href="TuringMachine4.html#5093" class="Bound">M</a><a id="5253" class="Symbol">))</a>

    <a id="5261" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="5264" href="TuringMachine4.html#4495" class="Function">raise-apply-lemma</a> <a id="5282" href="TuringMachine4.html#5097" class="Bound">config</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Util.List.html#834" class="Function">find</a> <a id="5295" class="Symbol">(</a><a id="5296" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="5304" href="TuringMachine4.html#703" class="Field">state</a> <a id="5310" class="Symbol">(</a><a id="5311" href="TuringMachine4.html#503" class="Function">read</a> <a id="5316" href="TuringMachine4.html#735" class="Field">pos</a> <a id="5320" href="TuringMachine4.html#717" class="Field">tape</a><a id="5324" class="Symbol">))</a> <a id="5327" href="TuringMachine4.html#5093" class="Bound">M</a><a id="5328" class="Symbol">)</a> <a id="5330" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5332" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>

  <a id="5337" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="5345" class="Symbol">(</a><a id="5346" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5359" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5361" href="TuringMachine4.html#5097" class="Bound">config</a><a id="5367" class="Symbol">)</a> <a id="5369" class="Symbol">(</a><a id="5370" href="Data.Maybe.Base.html#2039" class="Function">Maybe-map</a> <a id="5380" class="Symbol">(</a><a id="5381" href="TuringMachine4.html#1648" class="Function">raise-δ</a> <a id="5389" href="TuringMachine4.html#5095" class="Bound">n</a><a id="5390" class="Symbol">)</a> <a id="5392" class="Symbol">(</a><a id="5393" href="Util.List.html#834" class="Function">find</a> <a id="5398" class="Symbol">(</a><a id="5399" href="TuringMachine4.html#555" class="Function">δ-match</a> <a id="5407" href="TuringMachine4.html#703" class="Field">state</a> <a id="5413" class="Symbol">(</a><a id="5414" href="TuringMachine4.html#503" class="Function">read</a> <a id="5419" href="TuringMachine4.html#735" class="Field">pos</a> <a id="5423" href="TuringMachine4.html#717" class="Field">tape</a><a id="5427" class="Symbol">))</a> <a id="5430" href="TuringMachine4.html#5093" class="Bound">M</a><a id="5431" class="Symbol">))</a>

    <a id="5439" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="5442" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5447" class="Symbol">(</a><a id="5448" href="TuringMachine4.html#762" class="Function">apply-δ</a> <a id="5456" class="Symbol">(</a><a id="5457" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5470" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5472" href="TuringMachine4.html#5097" class="Bound">config</a><a id="5478" class="Symbol">))</a> <a id="5481" class="Symbol">(</a><a id="5482" href="TuringMachine4.html#4192" class="Function">raise-find-lemma</a> <a id="5499" href="TuringMachine4.html#5093" class="Bound">M</a> <a id="5501" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5503" href="TuringMachine4.html#703" class="Field">state</a> <a id="5509" class="Symbol">(</a><a id="5510" href="TuringMachine4.html#503" class="Function">read</a> <a id="5515" href="TuringMachine4.html#735" class="Field">pos</a> <a id="5519" href="TuringMachine4.html#717" class="Field">tape</a><a id="5523" class="Symbol">))</a> <a id="5526" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>

  <a id="5531" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5536" class="Symbol">(</a><a id="5537" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="5543" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5545" href="TuringMachine4.html#5093" class="Bound">M</a><a id="5546" class="Symbol">)</a> <a id="5548" class="Symbol">(</a><a id="5549" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5562" href="TuringMachine4.html#5095" class="Bound">n</a> <a id="5564" href="TuringMachine4.html#5097" class="Bound">config</a><a id="5570" class="Symbol">)</a>

    <a id="5577" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="5581" class="Keyword">where</a>
    <a id="5591" class="Keyword">open</a> <a id="5596" href="TuringMachine4.html#662" class="Module">TM-configuration</a> <a id="5613" href="TuringMachine4.html#5097" class="Bound">config</a>
    <a id="5624" class="Keyword">open</a> <a id="5629" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>


<a id="raise-equivalence"></a><a id="5643" href="TuringMachine4.html#5643" class="Function">raise-equivalence</a> <a id="5661" class="Symbol">:</a> <a id="5663" class="Symbol">(</a><a id="5664" href="TuringMachine4.html#5664" class="Bound">M</a> <a id="5666" class="Symbol">:</a> <a id="5668" href="TuringMachine4.html#413" class="Function">TM</a><a id="5670" class="Symbol">)</a> <a id="5672" class="Symbol">(</a><a id="5673" href="TuringMachine4.html#5673" class="Bound">n</a> <a id="5675" class="Symbol">:</a> <a id="5677" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5678" class="Symbol">)</a> <a id="5680" class="Symbol">(</a><a id="5681" href="TuringMachine4.html#5681" class="Bound">config</a> <a id="5688" class="Symbol">:</a> <a id="5690" href="TuringMachine4.html#662" class="Record">TM-configuration</a><a id="5706" class="Symbol">)</a> <a id="5708" class="Symbol">(</a><a id="5709" href="TuringMachine4.html#5709" class="Bound">steps</a> <a id="5715" class="Symbol">:</a> <a id="5717" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5718" class="Symbol">)</a> <a id="5720" class="Symbol">→</a> <a id="5722" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5735" href="TuringMachine4.html#5673" class="Bound">n</a> <a id="5737" class="Symbol">(((</a><a id="5740" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5745" href="TuringMachine4.html#5664" class="Bound">M</a><a id="5746" class="Symbol">)</a> <a id="5748" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="5750" href="TuringMachine4.html#5709" class="Bound">steps</a><a id="5755" class="Symbol">)</a> <a id="5757" href="TuringMachine4.html#5681" class="Bound">config</a><a id="5763" class="Symbol">)</a> <a id="5765" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5767" class="Symbol">((</a><a id="5769" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5774" class="Symbol">(</a><a id="5775" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="5781" href="TuringMachine4.html#5673" class="Bound">n</a> <a id="5783" href="TuringMachine4.html#5664" class="Bound">M</a><a id="5784" class="Symbol">))</a> <a id="5787" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="5789" href="TuringMachine4.html#5709" class="Bound">steps</a><a id="5794" class="Symbol">)</a> <a id="5796" class="Symbol">(</a><a id="5797" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5810" href="TuringMachine4.html#5673" class="Bound">n</a> <a id="5812" href="TuringMachine4.html#5681" class="Bound">config</a><a id="5818" class="Symbol">)</a>
<a id="5820" href="TuringMachine4.html#5643" class="Function">raise-equivalence</a> <a id="5838" href="TuringMachine4.html#5838" class="Bound">M</a> <a id="5840" href="TuringMachine4.html#5840" class="Bound">n</a> <a id="5842" href="TuringMachine4.html#5842" class="Bound">config</a> <a id="5849" class="Number">0</a> <a id="5851" class="Symbol">=</a> <a id="5853" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="5858" href="TuringMachine4.html#5643" class="Function">raise-equivalence</a> <a id="5876" href="TuringMachine4.html#5876" class="Bound">M</a> <a id="5878" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="5880" href="TuringMachine4.html#5880" class="Bound">config</a> <a id="5887" class="Symbol">(</a><a id="5888" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5892" href="TuringMachine4.html#5892" class="Bound">s</a><a id="5893" class="Symbol">)</a> <a id="5895" class="Symbol">=</a>
  <a id="5899" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5912" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="5914" class="Symbol">(((</a><a id="5917" href="TuringMachine4.html#1254" class="Function">step</a> <a id="5922" href="TuringMachine4.html#5876" class="Bound">M</a><a id="5923" class="Symbol">)</a> <a id="5925" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="5927" class="Symbol">(</a><a id="5928" class="Number">1</a> <a id="5930" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="5932" href="TuringMachine4.html#5892" class="Bound">s</a><a id="5933" class="Symbol">))</a> <a id="5936" href="TuringMachine4.html#5880" class="Bound">config</a><a id="5942" class="Symbol">)</a>                        <a id="5967" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a>  <a id="5971" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5976" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="5980" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="5993" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="5995" class="Symbol">((</a><a id="5997" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6002" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6003" class="Symbol">)</a> <a id="6005" class="Symbol">(((</a><a id="6008" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6013" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6014" class="Symbol">)</a> <a id="6016" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="6018" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6019" class="Symbol">)</a> <a id="6021" href="TuringMachine4.html#5880" class="Bound">config</a><a id="6027" class="Symbol">))</a>                   <a id="6048" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6051" href="TuringMachine4.html#4936" class="Function">raise-step-lemma</a> <a id="6068" href="TuringMachine4.html#5876" class="Bound">M</a> <a id="6070" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6072" class="Symbol">(((</a><a id="6075" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6080" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6081" class="Symbol">)</a> <a id="6083" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="6085" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6086" class="Symbol">)</a> <a id="6088" href="TuringMachine4.html#5880" class="Bound">config</a><a id="6094" class="Symbol">)</a> <a id="6096" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="6100" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6105" class="Symbol">(</a><a id="6106" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="6112" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6114" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6115" class="Symbol">)</a> <a id="6117" class="Symbol">(</a><a id="6118" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="6131" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6133" class="Symbol">(((</a><a id="6136" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6141" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6142" class="Symbol">)</a> <a id="6144" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="6146" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6147" class="Symbol">)</a> <a id="6149" href="TuringMachine4.html#5880" class="Bound">config</a><a id="6155" class="Symbol">))</a>           <a id="6168" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6171" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="6176" class="Symbol">(</a><a id="6177" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6182" class="Symbol">(</a><a id="6183" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="6189" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6191" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6192" class="Symbol">))</a> <a id="6195" class="Symbol">(</a><a id="6196" href="TuringMachine4.html#5643" class="Function">raise-equivalence</a> <a id="6214" href="TuringMachine4.html#5876" class="Bound">M</a> <a id="6216" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6218" href="TuringMachine4.html#5880" class="Bound">config</a> <a id="6225" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6226" class="Symbol">)</a> <a id="6228" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="6232" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6237" class="Symbol">(</a><a id="6238" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="6244" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6246" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6247" class="Symbol">)</a> <a id="6249" class="Symbol">(((</a><a id="6252" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6257" class="Symbol">(</a><a id="6258" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="6264" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6266" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6267" class="Symbol">))</a> <a id="6270" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="6272" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6273" class="Symbol">)</a> <a id="6275" class="Symbol">(</a><a id="6276" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="6289" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6291" href="TuringMachine4.html#5880" class="Bound">config</a><a id="6297" class="Symbol">))</a> <a id="6300" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6303" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="6308" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="6312" class="Symbol">((</a><a id="6314" href="TuringMachine4.html#1254" class="Function">step</a> <a id="6319" class="Symbol">(</a><a id="6320" href="TuringMachine4.html#1791" class="Function">raise</a> <a id="6326" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6328" href="TuringMachine4.html#5876" class="Bound">M</a><a id="6329" class="Symbol">))</a> <a id="6332" href="TuringMachine4.html#91" class="Function Operator">^</a> <a id="6334" class="Symbol">(</a><a id="6335" class="Number">1</a> <a id="6337" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6339" href="TuringMachine4.html#5892" class="Bound">s</a><a id="6340" class="Symbol">))</a> <a id="6343" class="Symbol">(</a><a id="6344" href="TuringMachine4.html#3689" class="Function">raise-config</a> <a id="6357" href="TuringMachine4.html#5878" class="Bound">n</a> <a id="6359" href="TuringMachine4.html#5880" class="Bound">config</a><a id="6365" class="Symbol">)</a>              <a id="6380" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="6384" class="Keyword">where</a>
    <a id="6394" class="Keyword">open</a> <a id="6399" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>














  
<a id="6428" class="Comment">{-
fix-match-lemma1 :
  (M : TM) →
  (state symbol : ℕ) →
  (state ≤ max-state M) →
  (symbol ≤ max-symbol M) →
  find (δ-match state symbol) M ≡ nothing → 
  find (δ-match state symbol) (fix M) ≡ just (δ state symbol (1 + (max-state M)) symbol true)
fix-match-lemma1 M state symbol state≤max-states symbol≤max-symbols no-match = proof
  where
    #states = 1 + (max-state M)
    #symbols = 1 + (max-symbol M)

    state&lt;#states : state &lt; #states
    state&lt;#states = begin-strict
      state               ≤⟨ state≤max-states ⟩ 
      max-state M         &lt;⟨ n&lt;1+n (max-state M) ⟩
      1 + (max-state M)   ∎
      where
        open ≤-Reasoning

    symbol&lt;#symbols : symbol &lt; #symbols
    symbol&lt;#symbols = begin-strict
      symbol               ≤⟨ symbol≤max-symbols ⟩
      max-symbol M         &lt;⟨ n&lt;1+n (max-symbol M) ⟩
      1 + (max-symbol M)   ∎
      where
        open ≤-Reasoning
    
    states = range #states
    symbols = range #symbols

    inputs = list-product states symbols

    lemma1 : (fix M) ≡ M ++ (map (make-switch #states) (filter (δ-filter M) inputs))
    lemma1 = refl

    lemma2 :
        find (δ-match state symbol) (fix M)
      ≡ find (δ-match state symbol) (map (make-switch #states) (filter (δ-filter M) inputs))
    lemma2 = find-++-lemma (δ-match state symbol) M (map (make-switch #states) (filter (δ-filter M) inputs)) no-match


    lemma3 : not (match (δ-match state symbol) M) ≡ true
    lemma3 = cong not (find-match-lemma (δ-match state symbol) M no-match)

    lemma4 : Σ[ i ∈ ℕ ] (inputs [ i ]? ≡ just (state , symbol))
    lemma4 = product-complete state&lt;#states symbol&lt;#symbols

    i = proj₁ lemma4
    
    inputs[i]≡[state,symbol] = proj₂ lemma4

    lemma5 : δ-filter M (state , symbol) ≡ true
    lemma5 = lemma3

    lemma6 : Σ[ j ∈ ℕ ] ((filter (δ-filter M) inputs) [ j ]? ≡ just (state , symbol))
    lemma6 = filter-index-lemma (δ-filter M) inputs i (state , symbol) inputs[i]≡[state,symbol] lemma5

    j = proj₁ lemma6

    lemma7 : (filter (δ-filter M) inputs) [ j ]? ≡ just (state , symbol)
    lemma7 = proj₂ lemma6

    lemma8 : (map (make-switch #states) (filter (δ-filter M) inputs)) [ j ]? ≡ Maybe-map (make-switch #states) ((filter (δ-filter M) inputs) [ j ]?)
    lemma8 = get-map-lemma (make-switch #states) (filter (δ-filter M) inputs) j

    lemma9 : Maybe-map (make-switch #states) ((filter (δ-filter M) inputs) [ j ]?) ≡ just (δ state symbol #states symbol true)
    lemma9 = cong (Maybe-map (make-switch #states)) lemma7

    lemma10 : i ≡ (#symbols - (1 + symbol)) + ((#states - (1 + state)) * #symbols)
    lemma10 = product-uniqueness state&lt;#states symbol&lt;#symbols i inputs[i]≡[state,symbol]
    
    proof
-}</a>
<a id="9115" class="Comment">{-
fix-match-lemma2 :
  (M : TM) →
  (state symbol : ℕ) →
  (state ≤ max-state M) →
  (symbol ≤ max-symbol M) → 
  (transition : TM-δ) →
  find (δ-match state symbol) M ≡ just transition →
  find (δ-match state symbol) (fix M) ≡ just transition

-}</a>
</pre></body></html>