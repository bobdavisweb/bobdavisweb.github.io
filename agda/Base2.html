<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Base2</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Base2.html" class="Module">Base2</a> <a id="14" class="Keyword">where</a>

<a id="21" class="Keyword">open</a> <a id="26" class="Keyword">import</a> <a id="33" href="Basic.html" class="Module">Basic</a>
<a id="39" class="Keyword">open</a> <a id="44" class="Keyword">import</a> <a id="51" href="Util.Bool.html" class="Module">Util.Bool</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Util.BoolCircuit.html" class="Module">Util.BoolCircuit</a>

<a id="91" class="Comment">-- output: sum , carry</a>
<a id="base2+₁"></a><a id="114" href="Base2.html#114" class="Function">base2+₁</a> <a id="122" class="Symbol">:</a> <a id="124" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="129" class="Symbol">→</a> <a id="131" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="136" class="Symbol">→</a> <a id="138" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="143" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="145" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="150" href="Base2.html#114" class="Function">base2+₁</a> <a id="158" href="Base2.html#158" class="Bound">x</a> <a id="160" href="Base2.html#160" class="Bound">y</a> <a id="162" class="Symbol">=</a> <a id="164" class="Symbol">(</a><a id="165" href="Base2.html#158" class="Bound">x</a> <a id="167" href="Data.Bool.Base.html#1101" class="Function Operator">xor</a> <a id="171" href="Base2.html#160" class="Bound">y</a><a id="172" class="Symbol">)</a> <a id="174" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="176" class="Symbol">(</a><a id="177" href="Base2.html#158" class="Bound">x</a> <a id="179" href="Util.Bool.html#45" class="Function Operator">and</a> <a id="183" href="Base2.html#160" class="Bound">y</a><a id="184" class="Symbol">)</a>

<a id="187" class="Comment">-- output: sum , carry</a>
<a id="base2+carry"></a><a id="210" href="Base2.html#210" class="Function">base2+carry</a> <a id="222" class="Symbol">:</a> <a id="224" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="229" class="Symbol">→</a> <a id="231" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="236" class="Symbol">→</a> <a id="238" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="243" class="Symbol">→</a> <a id="245" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="250" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="252" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="257" href="Base2.html#210" class="Function">base2+carry</a> <a id="269" href="Base2.html#269" class="Bound">x</a> <a id="271" href="Base2.html#271" class="Bound">y</a> <a id="273" href="Base2.html#273" class="Bound">c</a> <a id="275" class="Symbol">=</a> <a id="277" class="Symbol">(</a><a id="278" href="Util.BoolCircuit.html#199" class="Function">parity</a> <a id="285" class="Symbol">(</a><a id="286" href="Base2.html#269" class="Bound">x</a> <a id="288" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="290" class="Symbol">(</a><a id="291" href="Base2.html#271" class="Bound">y</a> <a id="293" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="295" class="Symbol">(</a><a id="296" href="Base2.html#273" class="Bound">c</a> <a id="298" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="300" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="302" class="Symbol">))))</a> <a id="307" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="309" class="Symbol">(</a><a id="310" href="Util.BoolCircuit.html#313" class="Function">threshold</a> <a id="320" class="Number">2</a> <a id="322" class="Symbol">(</a><a id="323" href="Base2.html#269" class="Bound">x</a> <a id="325" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="327" class="Symbol">(</a><a id="328" href="Base2.html#271" class="Bound">y</a> <a id="330" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="332" class="Symbol">(</a><a id="333" href="Base2.html#273" class="Bound">c</a> <a id="335" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="337" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="339" class="Symbol">))))</a>


<a id="base2-suc-helper2"></a><a id="346" href="Base2.html#346" class="Function">base2-suc-helper2</a> <a id="364" class="Symbol">:</a> <a id="366" class="Symbol">(</a><a id="367" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="372" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="376" class="Symbol">)</a> <a id="378" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="380" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="385" class="Symbol">→</a> <a id="387" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="392" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="394" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="399" class="Symbol">→</a> <a id="401" class="Symbol">(</a><a id="402" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="407" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="411" class="Symbol">)</a> <a id="413" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="415" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="420" href="Base2.html#346" class="Function">base2-suc-helper2</a> <a id="438" href="Base2.html#438" class="Bound">p</a> <a id="440" href="Base2.html#440" class="Bound">q</a> <a id="442" class="Symbol">=</a> <a id="444" class="Symbol">(</a><a id="445" href="Base2.html#524" class="Function Operator">current_sum</a> <a id="457" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="459" href="Base2.html#497" class="Function Operator">current_list</a><a id="471" class="Symbol">)</a> <a id="473" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="475" href="Base2.html#550" class="Function Operator">new_carry</a>
  <a id="487" class="Keyword">where</a>
    <a id="497" href="Base2.html#497" class="Function Operator">current_list</a> <a id="510" class="Symbol">=</a> <a id="512" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="518" href="Base2.html#438" class="Bound">p</a>
    <a id="524" href="Base2.html#524" class="Function Operator">current_sum</a> <a id="536" class="Symbol">=</a> <a id="538" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="544" href="Base2.html#440" class="Bound">q</a>
    <a id="550" href="Base2.html#550" class="Function Operator">new_carry</a> <a id="560" class="Symbol">=</a> <a id="562" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="568" href="Base2.html#440" class="Bound">q</a>


<a id="base2-suc-helper"></a><a id="572" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="589" class="Symbol">:</a> <a id="591" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="596" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="601" class="Symbol">→</a> <a id="603" class="Symbol">(</a><a id="604" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="609" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="613" class="Symbol">)</a> <a id="615" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="617" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="622" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="639" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="642" class="Symbol">=</a> <a id="644" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="647" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="649" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
<a id="655" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="672" class="Symbol">(</a><a id="673" href="Base2.html#673" class="Bound">x</a> <a id="675" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="677" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="679" class="Symbol">)</a> <a id="681" class="Symbol">=</a> <a id="683" class="Symbol">(</a><a id="684" href="Base2.html#741" class="Function">s</a> <a id="686" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="688" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="690" class="Symbol">)</a> <a id="692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="694" href="Base2.html#757" class="Function">c</a>
  <a id="698" class="Keyword">where</a>
    <a id="708" href="Base2.html#708" class="Function">p</a> <a id="710" class="Symbol">=</a> <a id="712" href="Base2.html#210" class="Function">base2+carry</a> <a id="724" href="Base2.html#673" class="Bound">x</a> <a id="726" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="731" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
    <a id="741" href="Base2.html#741" class="Function">s</a> <a id="743" class="Symbol">=</a> <a id="745" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="751" href="Base2.html#708" class="Function">p</a>
    <a id="757" href="Base2.html#757" class="Function">c</a> <a id="759" class="Symbol">=</a> <a id="761" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="767" href="Base2.html#708" class="Function">p</a>
<a id="769" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="786" class="Symbol">(</a><a id="787" href="Base2.html#787" class="Bound">x</a> <a id="789" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="791" class="Symbol">(</a><a id="792" href="Base2.html#792" class="Bound">y</a> <a id="794" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="796" href="Base2.html#796" class="Bound">xs</a><a id="798" class="Symbol">))</a> <a id="801" class="Symbol">=</a>
  <a id="805" href="Base2.html#346" class="Function">base2-suc-helper2</a>
    <a id="827" class="Symbol">(</a><a id="828" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="845" class="Symbol">(</a><a id="846" href="Base2.html#792" class="Bound">y</a> <a id="848" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="850" href="Base2.html#796" class="Bound">xs</a><a id="852" class="Symbol">))</a>
    <a id="859" class="Symbol">(</a><a id="860" href="Base2.html#210" class="Function">base2+carry</a> <a id="872" href="Base2.html#787" class="Bound">x</a> <a id="874" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="880" class="Symbol">(</a><a id="881" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="887" class="Symbol">(</a><a id="888" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="905" class="Symbol">(</a><a id="906" href="Base2.html#792" class="Bound">y</a> <a id="908" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="910" href="Base2.html#796" class="Bound">xs</a><a id="912" class="Symbol">))))</a>

<a id="base2-suc"></a><a id="918" href="Base2.html#918" class="Function">base2-suc</a> <a id="928" class="Symbol">:</a> <a id="930" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="935" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="940" class="Symbol">→</a> <a id="942" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="947" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="952" href="Base2.html#918" class="Function">base2-suc</a> <a id="962" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="965" class="Symbol">=</a> <a id="967" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="970" href="Base2.html#918" class="Function">base2-suc</a> <a id="980" class="Symbol">(</a><a id="981" href="Base2.html#981" class="Bound">x</a> <a id="983" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="985" href="Base2.html#985" class="Bound">xs</a><a id="987" class="Symbol">)</a> <a id="989" class="Symbol">=</a> <a id="991" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="994" href="Base2.html#1081" class="Function">c</a> <a id="996" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1001" class="Symbol">(</a><a id="1002" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1007" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1009" href="Base2.html#1065" class="Function">l</a><a id="1010" class="Symbol">)</a> <a id="1012" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1017" href="Base2.html#1065" class="Function">l</a>
  <a id="1021" class="Keyword">where</a>
    <a id="1031" href="Base2.html#1031" class="Function">p</a> <a id="1033" class="Symbol">=</a> <a id="1035" href="Base2.html#572" class="Function">base2-suc-helper</a> <a id="1052" class="Symbol">(</a><a id="1053" href="Base2.html#981" class="Bound">x</a> <a id="1055" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1057" href="Base2.html#985" class="Bound">xs</a><a id="1059" class="Symbol">)</a>
    <a id="1065" href="Base2.html#1065" class="Function">l</a> <a id="1067" class="Symbol">=</a> <a id="1069" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1075" href="Base2.html#1031" class="Function">p</a>
    <a id="1081" href="Base2.html#1081" class="Function">c</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1091" href="Base2.html#1031" class="Function">p</a>

<a id="unary→base2"></a><a id="1094" href="Base2.html#1094" class="Function">unary→base2</a> <a id="1106" class="Symbol">:</a> <a id="1108" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1117" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="1122" href="Base2.html#1094" class="Function">unary→base2</a> <a id="1134" class="Number">0</a> <a id="1136" class="Symbol">=</a> <a id="1138" class="Symbol">(</a><a id="1139" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1145" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1147" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1149" class="Symbol">)</a>
<a id="1151" href="Base2.html#1094" class="Function">unary→base2</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1168" href="Base2.html#1168" class="Bound">n</a><a id="1169" class="Symbol">)</a> <a id="1171" class="Symbol">=</a> <a id="1173" href="Base2.html#918" class="Function">base2-suc</a> <a id="1183" class="Symbol">(</a><a id="1184" href="Base2.html#1094" class="Function">unary→base2</a> <a id="1196" href="Base2.html#1168" class="Bound">n</a><a id="1197" class="Symbol">)</a>

<a id="base2→unary"></a><a id="1200" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1219" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1228" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1240" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1243" class="Symbol">=</a> <a id="1245" class="Number">0</a>
<a id="1247" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1266" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1268" href="Base2.html#1268" class="Bound">xs</a><a id="1270" class="Symbol">)</a> <a id="1272" class="Symbol">=</a> <a id="1274" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1286" href="Base2.html#1268" class="Bound">xs</a>
<a id="1289" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1307" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1309" href="Base2.html#1309" class="Bound">xs</a><a id="1311" class="Symbol">)</a> <a id="1313" class="Symbol">=</a> <a id="1315" class="Symbol">(</a><a id="1316" class="Number">2</a> <a id="1318" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Data.List.Base.html#4864" class="Function">length</a> <a id="1328" href="Base2.html#1309" class="Bound">xs</a><a id="1330" class="Symbol">))</a> <a id="1333" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Base2.html#1200" class="Function">base2→unary</a> <a id="1348" href="Base2.html#1309" class="Bound">xs</a><a id="1350" class="Symbol">)</a>
</pre></body></html>